<?xml version="1.0"?>
<ruleset name="Workoflow Coding Standards">
    <description>PHP CodeSniffer configuration for Symfony 7 project with PSR-12</description>

    <!-- Use PSR-12 Standard (includes PSR-1, PSR-2) -->
    <rule ref="PSR12"/>

    <!-- Color the result output -->
    <arg name="colors"/>

    <!-- Show progress of the run -->
    <arg value="ps"/>

    <!-- Show sniff codes in all reports -->
    <arg value="s"/>

    <!-- Files and directories to check -->
    <file>src/</file>
    <file>tests/</file>

    <!-- Exclude patterns -->
    <exclude-pattern>*/migrations/*</exclude-pattern>
    <exclude-pattern>*/var/*</exclude-pattern>
    <exclude-pattern>*/vendor/*</exclude-pattern>
    <exclude-pattern>*/config/bundles.php</exclude-pattern>
    <exclude-pattern>*/config/preload.php</exclude-pattern>
    <exclude-pattern>*/tests/bootstrap.php</exclude-pattern>
    <exclude-pattern>*/src/Kernel.php</exclude-pattern>

    <!-- Exclude line length rule entirely -->
    <rule ref="Generic.Files.LineLength">
        <exclude name="Generic.Files.LineLength"/>
    </rule>

    <!-- Allow certain violations for Entity classes -->
    <rule ref="PSR1.Classes.ClassDeclaration.MissingNamespace">
        <exclude-pattern>*/Entity/*</exclude-pattern>
    </rule>
</ruleset>